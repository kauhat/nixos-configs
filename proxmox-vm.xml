<domain type="kvm">
    <name>nixos-vm</name>
    <uuid>9650d09e-b019-4140-bc85-fea253a5c890</uuid>
    <metadata>
      <libosinfo:libosinfo xmlns:libosinfo="http://libosinfo.org/xmlns/libvirt/domain/1.0">
        <libosinfo:os id="http://nixos.org/nixos/24.05"/>
      </libosinfo:libosinfo>
    </metadata>
    <memory unit="KiB">2048000</memory>
    <currentMemory unit="KiB">2048000</currentMemory>
    <vcpu placement="static">2</vcpu>
    <os>
      <type arch="x86_64" machine="pc-i440fx-5.2">hvm</type>
      <boot dev="hd"/>
    </os>
    <cpu mode="custom" match="exact" check="none">
      <model fallback="forbid">qemu64</model>
    </cpu>
    <clock offset="utc"/>
    <on_poweroff>destroy</on_poweroff>
    <on_reboot>restart</on_reboot>
    <on_crash>destroy</on_crash>
    <devices>
      <emulator>/usr/bin/qemu-system-x86_64</emulator>
      <disk type="file" device="disk">
        <driver name="qemu" type="qcow2"/>
        <source file="/home/jack/Dev/jack/nixos-configs/nixos.qcow2"/>
        <target dev="vda" bus="virtio"/>
        <address type="pci" domain="0x0000" bus="0x00" slot="0x04" function="0x0"/>
      </disk>
      <controller type="usb" index="0" model="piix3-uhci">
        <address type="pci" domain="0x0000" bus="0x00" slot="0x01" function="0x2"/>
      </controller>
      <controller type="pci" index="0" model="pci-root"/>
      <interface type="bridge">
        <mac address="52:54:00:12:34:56"/>
        <source bridge="virbr0"/>
        <model type="rtl8139"/>
        <address type="pci" domain="0x0000" bus="0x00" slot="0x03" function="0x0"/>
      </interface>
      <interface type="user">
        <mac address="52:54:00:11:28:9d"/>
        <model type="rtl8139"/>
        <address type="pci" domain="0x0000" bus="0x00" slot="0x08" function="0x0"/>
      </interface>
      <input type="mouse" bus="usb">
        <address type="usb" bus="0" port="1"/>
      </input>
      <input type="keyboard" bus="usb">
        <address type="usb" bus="0" port="2"/>
      </input>
      <input type="mouse" bus="virtio">
        <address type="pci" domain="0x0000" bus="0x00" slot="0x06" function="0x0"/>
      </input>
      <input type="keyboard" bus="virtio">
        <address type="pci" domain="0x0000" bus="0x00" slot="0x07" function="0x0"/>
      </input>
      <input type="mouse" bus="ps2"/>
      <input type="keyboard" bus="ps2"/>
      <graphics type="spice" port="5900" autoport="no" listen="0.0.0.0" keymap="de-ch" defaultMode="insecure">
        <listen type="address" address="0.0.0.0"/>
        <image compression="auto_lz"/>
      </graphics>
      <audio id="1" type="none"/>
      <video>
        <model type="cirrus" vram="16384" heads="1" primary="yes"/>
        <address type="pci" domain="0x0000" bus="0x00" slot="0x05" function="0x0"/>
      </video>
      <memballoon model="virtio">
        <address type="pci" domain="0x0000" bus="0x00" slot="0x02" function="0x0"/>
      </memballoon>
    </devices>
  </domain>
